(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(238)},111:function(e,t,a){},113:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(32),c=a.n(l),s=(a(111),a(9)),i=a(10),o=a(12),u=a(11),m=a(13),E=(a(113),a(115),a(8)),d=a(240),h=a(241),p="http://localhost:5000",v=a(15),f=a.n(v),y=3,_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getData=function(){fetch(p+"/result/devices").then(function(e){return e.json()}).then(function(e){return a.setState({devices:e,prev_devices:0===a.state.devices.length?e:a.state.devices})}),setTimeout(a.getData,900*y)},a.state={devices:[],prev_devices:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return r.a.createElement(E.d,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",{scope:"row"},"ID"),r.a.createElement("th",null,"IP"),r.a.createElement("th",null,"Port"),r.a.createElement("th",null,"CRITICAL CPU"),r.a.createElement("th",null,"CRITICAL MEM"),r.a.createElement("th",null,"AVG CPU Usage"),r.a.createElement("th",null,"AVG MEM Usage"),r.a.createElement("th",null,"AVG #MYAPP"),r.a.createElement("th",null,"DOWN PROB"),r.a.createElement("th",null,"MEAN ENERGY"))),r.a.createElement("tbody",null,this.state.devices.map(function(t,a){return r.a.createElement("tr",{key:t.deviceId},r.a.createElement("td",null,a),r.a.createElement("td",null,t.deviceId),r.a.createElement("td",null,t.ipAddress),r.a.createElement("td",null,t.port),r.a.createElement("td",null,r.a.createElement(f.a,{key:t.deviceId,end:100*t.CRITICAL_CPU_PERCENTAGE,start:100*e.state.prev_devices[a].CRITICAL_CPU_PERCENTAGE,decimals:2,suffix:" %"})),r.a.createElement("td",null,r.a.createElement(f.a,{key:t.deviceId,end:100*t.CRITICAL_MEM_PERCENTAGE,start:100*e.state.prev_devices[a].CRITICAL_MEM_PERCENTAGE,decimals:2,suffix:" %"})),r.a.createElement("td",null,r.a.createElement(f.a,{key:t.deviceId,end:t.AVERAGE_CPU_USED,start:e.state.prev_devices[a].AVERAGE_CPU_USED,decimals:2,suffix:"/"+t.totalCPU})),r.a.createElement("td",null,r.a.createElement(f.a,{key:t.deviceId,end:t.AVERAGE_MEM_USED,start:e.state.prev_devices[a].AVERAGE_MEM_USED,decimals:2,suffix:"/"+t.totalMEM})),r.a.createElement("td",null,r.a.createElement(f.a,{key:t.deviceId,end:t.AVERAGE_MYAPP_COUNT,start:e.state.prev_devices[a].AVERAGE_MYAPP_COUNT,decimals:2})),r.a.createElement("td",null,r.a.createElement(f.a,{key:t.deviceId,end:100*t.DEVICE_DOWN_PROB_chaos,start:100*e.state.prev_devices[a].DEVICE_DOWN_PROB_chaos,decimals:2,suffix:" %"})),r.a.createElement("td",null,r.a.createElement(f.a,{key:t.deviceId,end:.72*t.DEVICE_ENERGY_CONSUMPTION,start:.72*e.state.prev_devices[a].DEVICE_ENERGY_CONSUMPTION,decimals:2,suffix:" kWh/month"})))})))}}]),t}(r.a.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"myAppDeviceGrid"},r.a.createElement("div",{style:{gridArea:"deviceId"}},"DevId: ",this.props.deviceId),r.a.createElement("div",{style:{gridArea:"timeInstalled"}},"Runned: ",this.props.time.toFixed(2)," %"),r.a.createElement("div",{className:"progress",style:{gridArea:"start"}},r.a.createElement("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:this.props.startTime+"%"},"aria-valuenow":"15","aria-valuemin":"0","aria-valuemax":"100"},this.props.startTime>10?this.props.startTime.toFixed(2)+"%":""),r.a.createElement("div",{className:"progress-bar bg-danger",role:"progressbar",style:{width:100-this.props.startTime+"%"},"aria-valuenow":"15","aria-valuemin":"0","aria-valuemax":"100"},this.props.startTime<90?(100-this.props.startTime).toFixed(2)+"%":"")))}}]),t}(r.a.Component),A=a(43),N=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"quadretto",style:{width:"300px"}},r.a.createElement("h6",null,"Values on total sampling"),this.props.data.map(function(e){return r.a.createElement("p",{style:{lineHeight:"3px"},key:e.name.toLowerCase()},r.a.createElement("font",{color:e.color},"\u25a0 ",e.val.toFixed(2)," % ",e.name.toLowerCase()))}))}}]),t}(r.a.Component),b={APP_HEALTH:"#CD533B",DEVICE_REACHABILITY:"#33753e",MYAPP_CPU_CONSUMING:"#E3B505",MYAPP_MEM_CONSUMING:"#4392F1"},O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getData=function(){fetch(p+"/result/myapps").then(function(e){return e.json()}).then(function(e){return a.setState({myapps:e})}),setTimeout(a.getData,1e3)},a.state={myapps:[],myappOnDevice:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.getData()}},{key:"render",value:function(){return r.a.createElement(E.d,{striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"#"),r.a.createElement("th",null,"MyApp ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Up Prob."),r.a.createElement("th",null,"Down Prob."),r.a.createElement("th",null,"Installed Probability"),r.a.createElement("th",null,"Alerts"))),r.a.createElement("tbody",null,this.state.myapps.map(function(e,t){var a=[];for(var n in e.ALERT_PERCENTAGE)a.push({key:n,value:e.ALERT_PERCENTAGE[n],color:b[n]});return r.a.createElement("tr",{key:e.myappId},r.a.createElement("td",null,t),r.a.createElement("td",null,e.myappId),r.a.createElement("td",null,e.name),r.a.createElement("td",null,(100*e.UP_PERCENTAGE).toFixed(2)," %"),r.a.createElement("td",null,(100-100*e.UP_PERCENTAGE).toFixed(2)," %"),r.a.createElement("td",null,Object.keys(e.ON_DEVICE_PERCENTAGE).map(function(t){return r.a.createElement(C,{key:t,deviceId:t,time:100*e.ON_DEVICE_PERCENTAGE[t],startTime:100*e.ON_DEVICE_START_TIME[t]})})),r.a.createElement("td",null,r.a.createElement("table",{className:"quadretto"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,0==a.reduce(function(e,t){return e+t.value},0)?"No alerts":r.a.createElement(A.PieChart,{key:e.myappId,id:e.myappId,size:100,innerHoleSize:0,data:a})),r.a.createElement("td",null,r.a.createElement(N,{data:a.map(function(e){return{color:e.color,val:e.value,name:e.key}})})))))))})))}}]),t}(r.a.Component),I=a(77),P=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,this.props.title),r.a.createElement("font",{size:"3",color:"black"},r.a.createElement(f.a,{start:this.props.start||0,end:this.props.value,decimals:this.props.decimals,suffix:this.props.suffix})))}}]),t}(r.a.Component),g={APP_HEALTH:"#CD533B",DEVICE_REACHABILITY:"#33753e",MYAPP_CPU_CONSUMING:"#e2b404",MYAPP_MEM_CONSUMING:"#4392F1"},T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getData=function(){fetch(p+"/result/devices").then(function(e){return e.json()}).then(function(e){return e.reduce(function(e,t){return e+t.DEVICE_ENERGY_CONSUMPTION},0)}).then(function(e){return a.setState({cost:e,prev_cost:a.state.cost,energy_history:[].concat(Object(I.a)(a.state.energy_history),[{x:a.state.energy_history.length+1,y:e}])})}),fetch(p+"/result/myapps").then(function(e){return e.json()}).then(function(e){var t=e.reduce(function(e,t){return e+t.UP_PERCENTAGE},0)/e.length,n={};e.forEach(function(e){for(var t in e.ALERT_PERCENTAGE)null!=n[t]?n[t]+=e.ALERT_PERCENTAGE[t]:n[t]=e.ALERT_PERCENTAGE[t]});var r=[],l=100;for(var c in n)r.push({key:c,value:n[c]/e.length,color:g[c]}),l-=n[c]/e.length;r.push({key:"NO_ALERT",value:l,color:"green"}),a.setState({uptime:t,prev_uptime:a.state.uptime,pie_data:r,uptime_history:[].concat(Object(I.a)(a.state.uptime_history),[{x:a.state.uptime_history.length+1,y:t}])})}),setTimeout(a.getData,5e3)},a.state={cost:0,uptime:1,prev_cost:0,prev_uptime:1,pie_data:[],uptime_history:[],energy_history:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch(p+"/result/uptime_history").then(function(e){return e.json()}).then(function(e){return e.map(function(e,t){return{x:t,y:e}})}).then(function(t){return e.setState({uptime_history:t})}),fetch(p+"/result/energy_history").then(function(e){return e.json()}).then(function(e){return e.map(function(e,t){return{x:t,y:e}})}).then(function(t){return e.setState({energy_history:t})}),this.getData()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",{className:"display-4"},"Your system performance, in a nutshell"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(P,{title:"Total Energy",start:.72*this.state.prev_cost,value:.72*this.state.cost,decimals:2,suffix:" kWh/month"})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(P,{title:"Mean Uptime",start:100*this.state.prev_uptime,decimals:2,value:100*this.state.uptime,suffix:" %"})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(P,{title:"Mean Downtime",start:100-100*this.state.prev_uptime,decimals:2,value:100-100*this.state.uptime,suffix:" %"}))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("h2",null,"Uptime"),r.a.createElement(A.LineChart,{axes:!0,yAxisOrientLeft:!0,width:450,height:150,yDomainRange:[0,1],yTicks:3,xTicks:1,data:[this.state.uptime_history]}),r.a.createElement("h2",null,"Energy Consumption"),r.a.createElement(A.LineChart,{axes:!0,yAxisOrientLeft:!0,width:450,height:150,yTicks:3,data:[this.state.energy_history]})),r.a.createElement("div",{className:"col-sm"},r.a.createElement("h3",null,"Alert Type Summary"),r.a.createElement("table",{className:"quadretto"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(A.PieChart,{key:"pie",id:"pie-chart",size:200,innerHoleSize:0,data:this.state.pie_data})),r.a.createElement("td",null,r.a.createElement(N,{data:this.state.pie_data.map(function(e){return{color:e.color,val:e.value,name:e.key}})}))))))))))}}]),t}(r.a.Component),j=2e3,R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setCounter=function(){fetch(p+"/result/simulationcounter").then(function(e){return e.text()}).then(function(e){return a.setState({counter_loading:!1,counter:parseInt(e),prev_counter:a.state.counter_loading?parseInt(e-20):a.state.counter})}),setTimeout(a.setCounter,j)},a.state={counter:0,prev_counter:0,counter_loading:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.setCounter()}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(E.b,null,r.a.createElement(E.c,{href:"/"},"Home")),r.a.createElement(E.b,null,r.a.createElement(E.c,{href:"/devices"},"Devices")),r.a.createElement(E.b,null,r.a.createElement(E.c,{href:"/myapps"},"MyApps"))),r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(E.b,null,r.a.createElement(E.c,null,"Simulation Iteration Counter: ",this.state.counter_loading?r.a.createElement("i",null,"loading"):r.a.createElement(f.a,{start:this.state.prev_counter,easingFn:function(e,t,a,n){return t+a*(e/n)},end:this.state.counter,duration:j/2e3+1})))),r.a.createElement(h.a,{path:"/",exact:!0,component:T}),r.a.createElement(h.a,{path:"/devices/",component:_}),r.a.createElement(h.a,{path:"/myapps/",component:O})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,2,1]]]);
//# sourceMappingURL=main.e9ab424a.chunk.js.map